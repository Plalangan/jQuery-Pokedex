var $pokemonList=$("<ul></ul>"),pokemonRepository=function(){var e=[],t="https://pokeapi.co/api/v2/pokemon/?limit=150";function o(t){e.push(t)}function n(e){var t=$("<li></li>");t.click(function(){a(e)});var o=$('<button class="btn-primary btn-lg btn-block"></button>').text(e.name);t.append(o),$pokemonList.append(t),$("body").append($pokemonList)}function a(e){pokemonRepository.loadDetails(e).then(function(){i(e)})}function i(e){var t=$(".modal-container").addClass("is-visible"),o=$(".closeButton").text("close").click(function(){l()}),n=$(".pokemonName").text("Name: "+e.name),a=$(".pokemonHeight").text("Height:"+e.height+" cm"),i=$(".pokemonWeight").text("Weight:"+e.weight+" lbs");$modal.append(o),$modal.append(imgElement),$modal.append(n),$modal.append(a),$modal.append(i),t.append($modal),$("body").append($modal)}function l(){$(".modal-container").removeClass("is-visible")}return{add:o,getAll:function(){return e},addListItem:n,showDetails:a,loadList:function(){return $.ajax(t,{dataType:"json"}).then(function(e){return $.each(e.results,function(e,t){n(t),o({name:t.name,detailsUrl:t.url,height:t.height})})}).catch(function(e){console.error(e)})},loadDetails:function(e){var t=e.url;return $.ajax(t).then(function(t){console.log("Item details",t),e.imageUrl=t.sprites.front_default,e.height=t.height,e.weight=t.weight,e.types=Object.keys(t.types),console.log(e.types)}).catch(function(e){console.error(e)})},showModal:i,hideModal:l}}();pokemonRepository.loadList();